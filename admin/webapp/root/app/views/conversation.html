<div ng-controller="ConversationController">
  <div class="clearfix">
    <div ng-show="!violationsErr">
      <div class="pull-right mt-sm" ng-click="refresh()">
        <em class="fa fa-refresh text-action"/>
        <label class="text-gray-label hand">{{'general.REFRESH' | translate}}</label>
      </div>
      <div class="pull-right mt-sm mr-lg" ng-click="exportCsv()"
           ng-if="conversations.length">
        <em class="fa fa-download text-action"/>
        <label class="text-gray-label hand">{{'general.CSV_DOWNLOAD' | translate}}
        </label>
      </div>
    </div>
    <div class="content-title">{{'sidebar.nav.VIOLATION' | translate}}</div>
  </div>
  <div class="panel mb0">
    <div class="panel-body">
      <div class="clearfix">
        <label class="text-primary" ng-show="!violationsErr">{{count}}
        </label>
        <div class="left-inner-addon pull-right" style="margin-bottom: 10px">
          <em class="fa fa-filter text-filter" />
          <input class="search form-control"
            placeholder="{{'general.FILTER' | translate}}"
            type="text"
            ng-model="search"
            ng-paste="onFilterChanged(search)"
            ng-keyup="onFilterChanged(search)"
            maxlength="{{'general.FILTER_MAX_LEN' | translate}}">
        </div>
      </div>
      <div ag-grid="gridOptions"
        class="ag-grid"
        style="width: 100%;"
        ng-style="{ height: graphHeight + 'px'}">
      </div>
    </div>
  </div>
  <div id="rulePreview"
    class="dataBox middleRight longBoxLimited pl-sm"
    ng-show="onRulePreview">
    <em class="fa fa-times pull-right pr-sm pt-sm"
      ng-click="onRulePreview=!onRulePreview" />
    <div class="p-sm pt-lg">
      <div class="col-sm-6">
        <md-input-container class="md-block mb0">
          <label>{{'policy.addPolicy.FROM' | translate}}</label>
          <input disabled
            value="{{rule.from}}">
        </md-input-container>
      </div>
      <div class="col-sm-6">
        <md-input-container class="md-block mb0">
          <label>{{'policy.addPolicy.TO' | translate}}</label>
          <input disabled
            value="{{rule.to}}">
        </md-input-container>
      </div>
      <div class="col-sm-6">
        <md-input-container class="md-block mb0">
          <label>{{'policy.addPolicy.APP' | translate}}</label>
          <input disabled
            value="{{rule.applications}}">
        </md-input-container>
      </div>
      <div class="col-sm-6">
        <md-input-container class="md-block mb0">
          <label>{{'policy.addPolicy.PORT' | translate}}</label>
          <input disabled
            value="{{rule.ports}}">
        </md-input-container>
      </div>
      <div class="col-sm-6">
        <md-input-container class="md-block mb0">
          <label>{{'policy.addPolicy.COMMENT' | translate}}</label>
          <input disabled
            value="{{rule.comment}}">
        </md-input-container>
      </div>
      <div class="col-sm-6">
        <md-input-container class="md-block mb0">
          <label>{{'policy.ACTIONS' | translate}}</label>
          <input disabled
            value="{{rule.action}}">
        </md-input-container>
      </div>
    </div>
  </div>
</div>
